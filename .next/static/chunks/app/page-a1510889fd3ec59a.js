(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{1623:(e,r,a)=>{Promise.resolve().then(a.bind(a,9343))},2870:(e,r,a)=>{"use strict";a.d(r,{D:()=>l,ThemeProvider:()=>s});var t=a(5155),o=a(2115);let n=(0,o.createContext)(void 0);function s(e){let{children:r}=e,[a,s]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e="dark"===(localStorage.getItem("theme")||"light");s(e),document.documentElement.classList.toggle("dark",e)},[]),(0,t.jsx)(n.Provider,{value:{isDark:a,toggleTheme:()=>{let e=!a;s(e),localStorage.setItem("theme",e?"dark":"light"),document.documentElement.classList.toggle("dark",e)},setTheme:e=>{let r="dark"===e;s(r),localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark",r)}},children:r})}function l(){let e=(0,o.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},3361:(e,r,a)=>{"use strict";a.d(r,{y1:()=>s,yM:()=>l});let t=a(5704).env.NEXT_PUBLIC_API_URL||"http://localhost:3001/api";class o{setToken(e){this.token=e}clearToken(){this.token=null}async request(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat(this.baseURL).concat(e),t={headers:{"Content-Type":"application/json",...r.headers},...r};this.token&&(t.headers.Authorization="Bearer ".concat(this.token));try{let e,r=await fetch(a,t),o=r.headers.get("content-type");if(e=o&&o.includes("application/json")?await r.json():await r.blob(),!r.ok)throw Error(e.error||"HTTP ".concat(r.status));return e}catch(e){throw console.error("Erro na requisi\xe7\xe3o:",e),e}}async get(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,{method:"GET",...r})}async post(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,{method:"POST",body:JSON.stringify(r),...a})}async put(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,{method:"PUT",body:JSON.stringify(r),...a})}async delete(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,{method:"DELETE",...r})}async uploadFile(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=new FormData;t.append("file",r),Object.keys(a).forEach(e=>{t.append(e,a[e])});let o="".concat(this.baseURL).concat(e),n={method:"POST",body:t,headers:{}};this.token&&(n.headers.Authorization="Bearer ".concat(this.token));try{let e=await fetch(o,n),r=await e.json();if(!e.ok)throw Error(r.error||"HTTP ".concat(e.status));return r}catch(e){throw console.error("Erro no upload:",e),e}}async uploadMultipleFiles(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=new FormData;r.forEach(e=>{t.append("files",e)}),Object.keys(a).forEach(e=>{t.append(e,a[e])});let o="".concat(this.baseURL).concat(e),n={method:"POST",body:t,headers:{}};this.token&&(n.headers.Authorization="Bearer ".concat(this.token));try{let e=await fetch(o,n),r=await e.json();if(!e.ok)throw Error(r.error||"HTTP ".concat(e.status));return r}catch(e){throw console.error("Erro no upload m\xfaltiplo:",e),e}}constructor(){this.baseURL=t,this.token=null}}let n=new o,s={async login(e,r){let a=await n.post("/auth/login",{email:e,password:r});return a.token&&(n.setToken(a.token),localStorage.setItem("auth_token",a.token)),a},register:async e=>n.post("/auth/register",e),logout:async()=>(n.clearToken(),localStorage.removeItem("auth_token"),n.post("/auth/logout")),getProfile:async()=>n.get("/auth/profile"),updateProfile:async e=>n.put("/auth/profile",e),changePassword:async e=>n.put("/auth/change-password",e),initToken(){let e=localStorage.getItem("auth_token");e&&n.setToken(e)}},l={async list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new URLSearchParams;Object.keys(e).forEach(a=>{void 0!==e[a]&&null!==e[a]&&r.append(a,e[a])});let a=r.toString()?"?".concat(r.toString()):"";return n.get("/relatorios".concat(a))},getById:async e=>n.get("/relatorios/".concat(e)),create:async e=>n.post("/relatorios",e),update:async(e,r)=>n.put("/relatorios/".concat(e),r),delete:async e=>n.delete("/relatorios/".concat(e)),generatePDF:async e=>n.post("/relatorios/".concat(e,"/generate-pdf")),downloadPDF:async(e,r)=>n.get("/relatorios/".concat(e,"/pdf/").concat(r))}},4389:(e,r,a)=>{"use strict";a.d(r,{A:()=>i});var t=a(5155),o=a(8661),n=a.n(o),s=a(2115),l=a(740);function i(e){let{selectedDate:r,onChange:a,placeholder:o="Selecione uma data",className:i=""}=e,[d,c]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:"jsx-e84ae2c801487fae "+"relative ".concat(i),children:[(0,t.jsx)(l.Ay,{selected:r,onChange:e=>{a(e),c(!1)},onCalendarOpen:()=>c(!0),onCalendarClose:()=>c(!1),open:d,placeholderText:o,dateFormat:"dd/MM/yyyy",showPopperArrow:!1,popperClassName:"custom-datepicker-popper",className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-zinc-200 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 font-semibold transition-all duration-200 focus:border-indigo-500 dark:focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-indigo-700 focus:shadow-md cursor-pointer",calendarClassName:"custom-datepicker-calendar",dayClassName:e=>{let a=new Date,t=e.toDateString()===a.toDateString(),o=r&&e.toDateString()===r.toDateString(),n="hover:bg-indigo-100 dark:hover:bg-indigo-900 rounded-lg transition-colors duration-200";return t&&(n+=" bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 font-semibold"),o&&(n+=" bg-indigo-500 text-white font-bold"),n},renderCustomHeader:e=>{let{date:r,decreaseMonth:a,increaseMonth:o,prevMonthButtonDisabled:n,nextMonthButtonDisabled:s}=e;return(0,t.jsxs)("div",{className:"jsx-e84ae2c801487fae flex items-center justify-between p-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-t-lg",children:[(0,t.jsx)("button",{onClick:a,disabled:n,className:"jsx-e84ae2c801487fae p-2 rounded-lg hover:bg-white/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-e84ae2c801487fae w-4 h-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7",className:"jsx-e84ae2c801487fae"})})}),(0,t.jsx)("div",{className:"jsx-e84ae2c801487fae text-lg font-bold",children:r.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),(0,t.jsx)("button",{onClick:o,disabled:s,className:"jsx-e84ae2c801487fae p-2 rounded-lg hover:bg-white/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-e84ae2c801487fae w-4 h-4",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7",className:"jsx-e84ae2c801487fae"})})})]})}}),(0,t.jsx)(n(),{id:"e84ae2c801487fae",children:".custom-datepicker-popper{z-index:9999!important}.custom-datepicker-calendar{border:none!important;border-radius:.75rem!important;box-shadow:0 10px 25px rgba(0,0,0,.15)!important;overflow:hidden!important}.react-datepicker{border:none!important;font-family:inherit!important}.react-datepicker__header{background:transparent!important;border:none!important;padding:0!important}.react-datepicker__month-container{background:white!important}.dark .react-datepicker__month-container{background:#1f2937!important}.react-datepicker__day-names{background:#f8fafc!important;padding:.5rem 0!important}.dark .react-datepicker__day-names{background:#374151!important}.react-datepicker__day-name{color:#6b7280!important;font-weight:600!important;font-size:.875rem!important}.dark .react-datepicker__day-name{color:#9ca3af!important}.react-datepicker__day{color:#374151!important;font-weight:500!important;border-radius:.5rem!important;margin:.125rem!important;width:2rem!important;height:2rem!important;line-height:2rem!important;transition:all.2s ease!important}.dark .react-datepicker__day{color:#d1d5db!important}.react-datepicker__day:hover{background-color:#e0e7ff!important;color:#3730a3!important}.dark .react-datepicker__day:hover{background-color:#4338ca!important;color:#fff!important}.react-datepicker__day--selected{background-color:#6366f1!important;color:#fff!important;font-weight:700!important}.react-datepicker__day--today{background-color:#dbeafe!important;color:#1e40af!important;font-weight:600!important}.dark .react-datepicker__day--today{background-color:#1e3a8a!important;color:#dbeafe!important}.react-datepicker__day--outside-month{color:#9ca3af!important}.dark .react-datepicker__day--outside-month{color:#6b7280!important}.react-datepicker__day--disabled{color:#d1d5db!important;cursor:not-allowed!important}.dark .react-datepicker__day--disabled{color:#4b5563!important}"})]})}a(9157)},6020:(e,r,a)=>{"use strict";a.d(r,{DZ:()=>n,ZU:()=>s,iU:()=>t,k4:()=>o,zb:()=>l});let t={SP:"S\xc3O PAULO",CV:"CASA VERDE / LIM\xc3O / CACHOEIRINHA",JT:"JA\xc7AN\xc3 / TREMEMB\xc9",MG:"VILA MARIA / VILA GUILHERME",ST:"SANTANA / TUCURUVI"},o={MUTIRAO:"Mutir\xe3o - SELIMP",REVITALIZACAO:"Revitaliza\xe7\xe3o de Pontos Viciados",ACUMULADOR:"A\xe7\xe3o de Acumulador",ALAGAMENTOS:"Limpeza P\xf3s Alagamento",ZELADORIA:"Zeladoria",DDS:"DDS",HIGIENIZACAO:"Higieniza\xe7\xe3o, manuten\xe7\xe3o, instala\xe7\xe3o, remo\xe7\xe3o e reposi\xe7\xe3o de Papeleiras",VARRICAO_MECANIZADA:"Varri\xe7\xe3o Mecanizada",FEIRAS:"Feiras",EVENTOS:"Eventos",ROTINEIROS:"Servi\xe7os Rotineiros"},n=["Acumulador","Alagamentos","Zeladoria"],s=["Capina\xe7\xe3o e Ro\xe7agem","Cata Bagulho","Coleta manual e transporte de materiais diversos/entulho","Coleta mecanizada e transporte de materiais diversos e de entulho","Grandes Objetos - Coleta e transporte de objetos volumosos","Higieniza\xe7\xe3o, manuten\xe7\xe3o, instala\xe7\xe3o, remo\xe7\xe3o e reposi\xe7\xe3o de Papeleiras","Lavagem Especial de Equipamentos P\xfablicos","Limpeza de Boca de Lobo","Mutir\xe3o","Raspagem da terra e areia nas sarjetas de vias p\xfablicas","Remo\xe7\xe3o de faixas e propagandas irregulares","Servi\xe7o de pintura de meio fio","Varri\xe7\xe3o Manual de Vias e Logradouros Publicos","Varri\xe7\xe3o Mecanizada","Desfazimento","Varri\xe7\xe3o de Pra\xe7a","Feiras","Ecopontos"],l={CV:["Ecoponto Vila Nova Cachoeirinha","Ecoponto Vila Santa Maria","Ecoponto Parque Peruche","Ecoponto Jardim Ant\xe1rtica","Ecoponto S\xe3o Leandro"],MG:["Ecoponto Vila Sabrina","Ecoponto Vila Guilherme","Ecoponto Vila Maria"],ST:["Ecoponto Santana","Ecoponto Tucuruvi"],JT:["Ecoponto Anselmo Machado","Ecoponto Silvio Bittencourt"]}},8209:(e,r,a)=>{"use strict";a.d(r,{A:()=>s,Y:()=>l});var t=a(2115),o=a(3361);let n={"marcos.silva":"marcos.silva@limpebras.com",admin:"admin@test.com","admin@test.com":"admin@test.com",usuario1:"usuario1@limpebras.com",usuario2:"usuario2@limpebras.com"};function s(){let[e,r]=(0,t.useState)({isAuthenticated:!1,user:null,isLoading:!0,login:async()=>!1,logout:()=>{},isAdmin:!1});(0,t.useEffect)(()=>{localStorage.getItem("auth_token")?(o.y1.initToken(),o.y1.getProfile().then(e=>{r(r=>({...r,isAuthenticated:!0,user:{id:e.id,nome:e.nome,email:e.email,username:e.email.split("@")[0],role:e.role,created_at:e.created_at},isLoading:!1,isAdmin:"admin"===e.role}))}).catch(e=>{console.error("Token inv\xe1lido:",e),localStorage.removeItem("auth_token"),r(e=>({...e,isAuthenticated:!1,user:null,isLoading:!1,isAdmin:!1}))})):r(e=>({...e,isAuthenticated:!1,user:null,isLoading:!1,isAdmin:!1}))},[]);let a=async(e,a)=>{try{let t=n[e]||e,s=await o.y1.login(t,a);if(s.token&&s.user)return r(r=>({...r,isAuthenticated:!0,user:{id:s.user.id,nome:s.user.nome,email:s.user.email,username:e,role:s.user.role},isLoading:!1,isAdmin:"admin"===s.user.role})),console.log("Login successful, user authenticated:",s.user),!0;return console.log("Login failed - invalid response"),!1}catch(e){return console.error("Erro no login:",e),!1}};return{...e,login:a,logout:()=>{o.y1.logout(),r(e=>({...e,isAuthenticated:!1,user:null,isLoading:!1,isAdmin:!1}))},isAdmin:e.isAdmin}}function l(){let[e,r]=(0,t.useState)([]),[a,n]=(0,t.useState)(!1),s=async()=>{try{n(!0),r([])}catch(e){console.error("Erro ao carregar usu\xe1rios:",e)}finally{n(!1)}};return(0,t.useEffect)(()=>{s()},[]),{users:e,loading:a,addUser:async e=>{try{let r=await o.y1.register(e);return await s(),r.user}catch(e){throw console.error("Erro ao adicionar usu\xe1rio:",e),e}},updateUser:async(e,r)=>{try{await o.y1.updateProfile(r),await s()}catch(e){throw console.error("Erro ao atualizar usu\xe1rio:",e),e}},deleteUser:async e=>{try{await s()}catch(e){throw console.error("Erro ao deletar usu\xe1rio:",e),e}},toggleUserStatus:async e=>{try{await s()}catch(e){throw console.error("Erro ao alterar status do usu\xe1rio:",e),e}},refreshUsers:s}}},9343:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>R});var t=a(5155),o=a(2115),n=a(8209),s=a(2870),l=a(63),i=a(8674),d=a(8901),c=a(7205),u=a(9281),m=a(5405),x=a(812),h=a(5513),g=a(9228),p=a(2473),b=a(7141),f=a(5301),v=a(6206),k=a(6020);function j(e){let{acumuladores:r=[],eventos:a=[],fechamentos:n=[],onDateClick:s=()=>{},selectedDate:l}=e,[j,N]=(0,o.useState)(new Date),y=e=>[{date:new Date(e,0,1),name:"Confraterniza\xe7\xe3o Universal"},{date:new Date(e,3,21),name:"Tiradentes"},{date:new Date(e,4,1),name:"Dia do Trabalhador"},{date:new Date(e,8,7),name:"Independ\xeancia do Brasil"},{date:new Date(e,9,12),name:"Nossa Senhora Aparecida"},{date:new Date(e,10,2),name:"Finados"},{date:new Date(e,10,15),name:"Proclama\xe7\xe3o da Rep\xfablica"},{date:new Date(e,11,25),name:"Natal"},{date:new Date(e,0,25),name:"Anivers\xe1rio de SP"},{date:new Date(e,10,20),name:"Consci\xeancia Negra"}],z=(0,i.w)(j),w=(0,d.p)(j),D=(0,i.w)(z),C=(0,d.p)(w),E=(0,c.k)({start:D,end:C}),A=(0,u.P)(D),S=e=>{if(e instanceof Date)return e;let r=new Date(e);return new Date(r.getTime()+6e4*r.getTimezoneOffset())};return(0,o.useEffect)(()=>{let e=j.getFullYear(),r=j.getMonth()+1;(n||[]).find(a=>a.ano===e&&a.mes===r)||((e,r)=>{let a=y(e),t=1;for(;;){let o=new Date(e,r,t),n=a.some(e=>(0,m.r)(e.date,o));if(!(0,x.c)(o)&&!n)return o;if(++t>31)break}})(e,r-1)},[j,n]),(0,t.jsxs)("div",{className:"bg-white/80 dark:bg-zinc-800/80 backdrop-blur-sm rounded-xl shadow-xl border border-zinc-200/50 dark:border-zinc-700/50 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("button",{onClick:()=>N((0,g.a)(j,1)),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsx)("h2",{className:"text-xl font-bold text-zinc-800 dark:text-zinc-200",children:(0,p.GP)(j,"MMMM yyyy",{locale:v.F})}),(0,t.jsx)("button",{onClick:()=>N((0,h.P)(j,1)),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"].map(e=>(0,t.jsx)("div",{className:"text-center text-sm font-medium text-zinc-500 dark:text-zinc-400 py-2",children:e},e))}),(0,t.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:A}).map((e,r)=>(0,t.jsx)("div",{className:"h-40"},"empty-".concat(r))),E.map(e=>{let o=(0,b.t)(e,j),i=l&&(0,m.r)(e,l),d=(0,f.c)(e),c=(e=>{let t=(a||[]).filter(r=>(0,m.r)(S(r.dia),e)),o=(r||[]).filter(r=>(0,m.r)(S(r.dia),e));return{eventos:t,acumuladores:o,fechamentos:(n||[]).filter(r=>(0,m.r)(S(r.data),e)),holidays:y(e.getFullYear()).filter(r=>(0,m.r)(r.date,e))}})(e);return(0,t.jsx)("div",{onClick:()=>s(e),className:"\n                h-40 p-2 border border-zinc-200 dark:border-zinc-600 cursor-pointer transition-colors\n                ".concat(o?"bg-white dark:bg-zinc-800":"bg-zinc-50 dark:bg-zinc-900","\n                ").concat(i?"bg-purple-100 dark:bg-purple-900 border-purple-300 dark:border-purple-600":"hover:bg-zinc-50 dark:hover:bg-zinc-700","\n                ").concat(d?"ring-2 ring-purple-500 dark:ring-purple-400":"","\n              "),children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"\n                  text-sm font-medium mb-1\n                  ".concat(o?"text-zinc-900 dark:text-zinc-100":"text-zinc-400 dark:text-zinc-500","\n                  ").concat(d?"text-purple-600 dark:text-purple-400 font-bold":"","\n                "),children:(0,p.GP)(e,"d")}),(0,t.jsxs)("div",{className:"flex-1 space-y-1 overflow-hidden",children:[c.holidays.map((e,r)=>(0,t.jsxs)("div",{className:"w-full bg-orange-500 rounded text-xs text-white p-1",title:e.name,children:[(0,t.jsx)("div",{className:"font-semibold",children:"FERIADO"}),(0,t.jsx)("div",{className:"text-xs opacity-90 truncate",children:e.name})]},"holiday-".concat(r))),c.fechamentos.map(e=>(0,t.jsx)("div",{className:"w-full bg-red-500 rounded text-xs text-white p-1 truncate",title:"FECHAMENTO",children:"FECHAMENTO"},e.id)),c.acumuladores.slice(0,2).map(e=>(0,t.jsxs)("div",{className:"w-full rounded text-xs text-white p-1 ".concat((e=>{switch(e){case"finalizado":return"bg-green-500";case"aguardando_descarga":return"bg-yellow-500";case"cancelado":return"bg-red-500";case"nao_comecou":return"bg-gray-500";default:return"bg-blue-500"}})(e.status)),title:"".concat(k.iU[e.sub]," - ").concat(e.hora),children:[(0,t.jsx)("div",{className:"font-semibold",children:"ACUMULADOR"}),(0,t.jsx)("div",{children:k.iU[e.sub]}),(0,t.jsx)("div",{className:"text-xs opacity-90",children:e.hora})]},e.id)),c.eventos.slice(0,2).map(e=>(0,t.jsxs)("div",{className:"w-full rounded text-xs text-white p-1 ".concat((e=>{switch(e){case"evento":default:return"bg-blue-500";case"reuniao":return"bg-purple-500";case"outros":return"bg-gray-500"}})(e.tipo)),title:"".concat(e.nome," - ").concat(e.hora),children:[(0,t.jsx)("div",{className:"font-semibold",children:e.tipo.toUpperCase()}),(0,t.jsx)("div",{className:"truncate",children:e.nome}),(0,t.jsx)("div",{className:"text-xs opacity-90",children:e.hora})]},e.id)),c.acumuladores.length+c.eventos.length>4&&(0,t.jsxs)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 text-center",children:["+",c.acumuladores.length+c.eventos.length-4]})]})]})},e.toISOString())})]}),(0,t.jsxs)("div",{className:"mt-6 bg-zinc-50/80 dark:bg-zinc-900/80 backdrop-blur-sm rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-zinc-800 dark:text-zinc-200 mb-3",children:"Legenda"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded"}),(0,t.jsx)("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Feriado"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded"}),(0,t.jsx)("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Fechamento"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,t.jsx)("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Finalizado"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),(0,t.jsx)("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Aguardando"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded"}),(0,t.jsx)("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Evento"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded"}),(0,t.jsx)("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Reuni\xe3o"})]})]})]})]})}var N=a(4389);function y(e){let{acumulador:r,onSave:a,onCancel:n}=e,[s,l]=(0,o.useState)({sub:(null==r?void 0:r.sub)||"SP",dia:(null==r?void 0:r.dia)?new Date(r.dia):new Date,hora:(null==r?void 0:r.hora)||"08:00",endereco:(null==r?void 0:r.endereco)||"",sei:(null==r?void 0:r.sei)||"",placaVeiculo:(null==r?void 0:r.placaVeiculo)||"",status:(null==r?void 0:r.status)||"nao_comecou",observacoes:(null==r?void 0:r.observacoes)||""}),i=e=>{let{name:r,value:a}=e.target;l(e=>({...e,[r]:a}))};return(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-800 rounded-xl shadow-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-zinc-900 dark:text-zinc-100",children:r?"Editar Acumulador":"Novo Acumulador"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a({...s,dia:(0,p.GP)(s.dia,"yyyy-MM-dd")})},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Sub-regi\xe3o"}),(0,t.jsx)("select",{name:"sub",value:s.sub,onChange:i,className:"w-full px-3 py-2 border border-zinc-300 dark:border-zinc-600 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white dark:bg-zinc-700 text-zinc-900 dark:text-zinc-100",required:!0,children:Object.entries(k.iU).map(e=>{let[r,a]=e;return(0,t.jsxs)("option",{value:r,children:[r," - ",a]},r)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Data"}),(0,t.jsx)(N.A,{selectedDate:s.dia,onChange:e=>l(r=>({...r,dia:e||new Date})),placeholder:"Selecione uma data",className:"w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hora"}),(0,t.jsx)("input",{type:"time",name:"hora",value:s.hora,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,t.jsxs)("select",{name:"status",value:s.status,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",required:!0,children:[(0,t.jsx)("option",{value:"nao_comecou",children:"N\xe3o come\xe7ou"}),(0,t.jsx)("option",{value:"aguardando_descarga",children:"Aguardando descarga do ve\xedculo"}),(0,t.jsx)("option",{value:"finalizado",children:"Finalizado"}),(0,t.jsx)("option",{value:"cancelado",children:"Cancelado"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Endere\xe7o"}),(0,t.jsx)("input",{type:"text",name:"endereco",value:s.endereco,onChange:i,placeholder:"Endere\xe7o completo",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"SEI (ID do acumulador)"}),(0,t.jsx)("input",{type:"text",name:"sei",value:s.sei,onChange:i,placeholder:"N\xfamero ID do acumulador na prefeitura",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Placa do Ve\xedculo ",(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"(opcional)"})]}),(0,t.jsx)("input",{type:"text",name:"placaVeiculo",value:s.placaVeiculo,onChange:i,placeholder:"ABC-1234",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Observa\xe7\xf5es"}),(0,t.jsx)("textarea",{name:"observacoes",value:s.observacoes,onChange:i,rows:3,placeholder:"Observa\xe7\xf5es adicionais...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 rounded-md hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors shadow-lg",children:r?"Atualizar":"Salvar"})]})]})]})}function z(e){let{evento:r,onSave:a,onCancel:n}=e,[s,l]=(0,o.useState)({nome:(null==r?void 0:r.nome)||"",sub:(null==r?void 0:r.sub)||"SP",dia:(null==r?void 0:r.dia)?new Date(r.dia):new Date,hora:(null==r?void 0:r.hora)||"08:00",endereco:(null==r?void 0:r.endereco)||"",tipo:(null==r?void 0:r.tipo)||"evento",descricao:(null==r?void 0:r.descricao)||""}),i=e=>{let{name:r,value:a}=e.target;l(e=>({...e,[r]:a}))};return(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:r?"Editar Evento":"Novo Evento"}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a({...s,dia:(0,p.GP)(s.dia,"yyyy-MM-dd")})},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome do Evento"}),(0,t.jsx)("input",{type:"text",name:"nome",value:s.nome,onChange:i,placeholder:"Nome do evento",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo"}),(0,t.jsxs)("select",{name:"tipo",value:s.tipo,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",required:!0,children:[(0,t.jsx)("option",{value:"evento",children:"Evento"}),(0,t.jsx)("option",{value:"reuniao",children:"Reuni\xe3o"}),(0,t.jsx)("option",{value:"outros",children:"Outros"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sub-regi\xe3o"}),(0,t.jsx)("select",{name:"sub",value:s.sub,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",required:!0,children:Object.entries(k.iU).map(e=>{let[r,a]=e;return(0,t.jsxs)("option",{value:r,children:[r," - ",a]},r)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Data"}),(0,t.jsx)(N.A,{selectedDate:s.dia,onChange:e=>l(r=>({...r,dia:e||new Date})),placeholder:"Selecione uma data",className:"w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hora"}),(0,t.jsx)("input",{type:"time",name:"hora",value:s.hora,onChange:i,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Endere\xe7o"}),(0,t.jsx)("input",{type:"text",name:"endereco",value:s.endereco,onChange:i,placeholder:"Endere\xe7o completo",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descri\xe7\xe3o"}),(0,t.jsx)("textarea",{name:"descricao",value:s.descricao,onChange:i,rows:3,placeholder:"Descri\xe7\xe3o do evento...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-slate-700 rounded-md hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-md hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:r?"Atualizar":"Salvar"})]})]})]})}var w=a(3941),D=a(4744);function C(e){var r;let{documento:a,onSubmit:n,onCancel:s}=e,[l,i]=(0,o.useState)((null==a?void 0:a.nome)||""),[d,c]=(0,o.useState)((null==a?void 0:a.tipo)||"PDF"),[u,m]=(0,o.useState)((null==a?void 0:a.descricao)||""),[x,h]=(0,o.useState)((null==a||null==(r=a.tags)?void 0:r.join(", "))||""),[g,p]=(0,o.useState)(null),[b,f]=(0,o.useState)(!1),[v,k]=(0,o.useState)(!1),j=(0,o.useRef)(null),N=async e=>{if(e.preventDefault(),!l.trim())return void D.oR.error("Nome do documento \xe9 obrigat\xf3rio");if(!g&&!(null==a?void 0:a.url))return void D.oR.error("Selecione um arquivo");f(!0),console.log("\uD83D\uDE80 Iniciando processo de salvamento com Supabase...");try{let e=(null==a?void 0:a.url)||"",t=(null==a?void 0:a.tamanho)||0;if(g){console.log("\uD83D\uDCC1 Arquivo selecionado:",{name:g.name,size:g.size,type:g.type});try{console.log("=== INICIANDO UPLOAD PARA SUPABASE STORAGE ===");let{data:{user:r},error:a}=await w.ND.auth.getUser();if(a||!r)throw Error("Usu\xe1rio n\xe3o autenticado. Fa\xe7a login primeiro.");if(console.log("\uD83D\uDC64 Usu\xe1rio autenticado:",{id:r.id,email:r.email}),0===g.size)throw Error("Arquivo est\xe1 vazio");if(g.size>0x3200000)throw Error("Arquivo muito grande (m\xe1ximo 50MB)");let o="".concat(Date.now(),"_").concat(g.name),n="".concat(r.id,"/").concat(o);console.log("\uD83D\uDCC2 Caminho do arquivo:",n);let{data:s,error:l}=await w.ND.storage.from("documentos").upload(n,g);if(l)throw console.error("❌ Erro no upload:",l),Error("Erro no upload: ".concat(l.message));console.log("✅ Upload conclu\xeddo:",s);let{data:{publicUrl:i}}=w.ND.storage.from("documentos").getPublicUrl(n);console.log("\uD83D\uDD17 URL p\xfablica:",i),e=i,t=g.size,console.log("=== UPLOAD PARA SUPABASE STORAGE CONCLU\xcdDO ===")}catch(e){var r;throw console.error("=== ERRO NO UPLOAD ==="),console.error("Tipo:",(null==(r=e.constructor)?void 0:r.name)||"Unknown"),console.error("Mensagem:",e.message),console.error("Stack:",e.stack),e}}let o={nome:l.trim(),tipo:d,categoria:"OUTROS",descricao:u.trim()||void 0,url:e,tamanho:t,userId:"temp-user-id",tags:x?x.split(",").map(e=>e.trim()).filter(Boolean):void 0};console.log("\uD83D\uDCCB Dados do documento:",o),console.log("\uD83D\uDCBE Chamando onSubmit..."),await n(o),console.log("✅ onSubmit conclu\xeddo com sucesso"),D.oR.success("Documento salvo com sucesso!")}catch(e){console.error("❌ Erro ao fazer upload:",e),D.oR.error("Erro ao fazer upload do arquivo: ".concat(e.message||"Erro desconhecido"))}finally{f(!1)}},y=e=>{if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(2))+" "+["Bytes","KB","MB","GB"][r]},z=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?k(!0):"dragleave"===e.type&&k(!1)};return(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-800 rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6 text-zinc-900 dark:text-zinc-100",children:a?"Editar Documento":"Novo Documento (Supabase)"}),(0,t.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("label",{className:"text-xs text-black dark:text-zinc-400 font-bold",children:"Nome do Documento *"}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),className:"bg-zinc-200 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 px-3 py-2 rounded border border-zinc-300 dark:border-zinc-700 font-semibold transition-all duration-200 focus:border-zinc-500 dark:focus:border-zinc-500 focus:ring-2 focus:ring-zinc-200 dark:focus:ring-zinc-700 focus:shadow-md",placeholder:"Ex: Template Balan\xe7o Mensal",required:!0})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("label",{className:"text-xs text-black dark:text-zinc-400 font-bold",children:"Descri\xe7\xe3o"}),(0,t.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),rows:3,className:"bg-zinc-200 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 px-3 py-2 rounded border border-zinc-300 dark:border-zinc-700 font-semibold transition-all duration-200 focus:border-zinc-500 dark:focus:border-zinc-500 focus:ring-2 focus:ring-zinc-200 dark:focus:ring-zinc-700 focus:shadow-md",placeholder:"Descreva o conte\xfado do documento..."})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("label",{className:"text-xs text-black dark:text-zinc-400 font-bold",children:"Tags (separadas por v\xedrgula)"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),className:"bg-zinc-200 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 px-3 py-2 rounded border border-zinc-300 dark:border-zinc-700 font-semibold transition-all duration-200 focus:border-zinc-500 dark:focus:border-zinc-500 focus:ring-2 focus:ring-zinc-200 dark:focus:ring-zinc-700 focus:shadow-md",placeholder:"Ex: template, balan\xe7o, mensal"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("label",{className:"text-xs text-black dark:text-zinc-400 font-bold",children:["Arquivo ",!a&&"*"]}),(0,t.jsxs)("div",{className:"relative w-full h-32 border-2 border-dashed rounded-lg cursor-pointer transition-colors ".concat(v?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-zinc-300 dark:border-zinc-600 bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-750 hover:border-indigo-500"),onDragEnter:z,onDragLeave:z,onDragOver:z,onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),k(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){let r=e.dataTransfer.files[0];if(!["application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(r.type))return void D.oR.error("Tipo de arquivo n\xe3o permitido. Use PDF ou Excel.");p(r),r.name.toLowerCase().endsWith(".pdf")?c("PDF"):(r.name.toLowerCase().endsWith(".xlsx")||r.name.toLowerCase().endsWith(".xls"))&&c("EXCEL"),D.oR.success("Arquivo adicionado com sucesso!")}},onClick:()=>{var e;return null==(e=j.current)?void 0:e.click()},children:[(0,t.jsx)("input",{ref:j,type:"file",accept:".pdf,.xlsx,.xls",onChange:e=>{if(e.target.files&&e.target.files[0]){let r=e.target.files[0];if(!["application/pdf","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(r.type))return void D.oR.error("Tipo de arquivo n\xe3o permitido. Use PDF ou Excel.");p(r),r.name.toLowerCase().endsWith(".pdf")?c("PDF"):(r.name.toLowerCase().endsWith(".xlsx")||r.name.toLowerCase().endsWith(".xls"))&&c("EXCEL"),D.oR.success("Arquivo selecionado com sucesso!")}},className:"hidden",required:!a}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full pt-5 pb-6",children:[(0,t.jsx)("svg",{className:"w-8 h-8 mb-2 text-zinc-500 dark:text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,t.jsxs)("p",{className:"text-xs text-zinc-600 dark:text-zinc-400 text-center",children:[(0,t.jsx)("span",{className:"font-medium",children:"Clique para selecionar"}),(0,t.jsx)("br",{}),"ou arraste e solte o arquivo aqui"]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:"PDF ou Excel (m\xe1x. 50MB) - Supabase"})]})]}),g&&(0,t.jsx)("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"PDF"===d?"\uD83D\uDCC4":"\uD83D\uDCCA"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:g.name}),(0,t.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400",children:y(g.size)})]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{p(null),j.current&&(j.current.value="")},className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a&&a.url&&(0,t.jsx)("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:"PDF"===a.tipo?"\uD83D\uDCC4":"\uD83D\uDCCA"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:a.nome}),(0,t.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:y(a.tamanho)})]})]})})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"submit",disabled:b||!l.trim(),className:"flex-1 bg-indigo-600 hover:bg-indigo-500 disabled:bg-zinc-400 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Salvando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a?"Atualizar":"Salvar"]})}),(0,t.jsx)("button",{type:"button",onClick:s,className:"flex-1 bg-zinc-600 hover:bg-zinc-500 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Cancelar"})]})]})]})}var E=a(1995),A=a(9708),S=a(2078),M=a(2553),L=a(4663),P=a(9996);let T=(0,S.Wp)({apiKey:"AIzaSyA8YGAReHeU9LZa64X-MUY5x4JxlbYy0-4",authDomain:"relatorios-app-93aee.firebaseapp.com",projectId:"relatorios-app-93aee",storageBucket:"relatorios-app-93aee.firebasestorage.app",messagingSenderId:"755495500516",appId:"1:755495500516:web:b4262cc77f975866d90af1",measurementId:"G-SFMZTLCCE1"}),_=(0,A.aU)(T);(0,M.xI)(T),(0,L.P5)(T),(0,P.c7)(T);var U=a(595);function R(){let{isAuthenticated:e,isLoading:r}=(0,n.A)(),{isDark:a,toggleTheme:i}=(0,s.D)(),d=(0,l.useRouter)(),{acumuladores:c,addAcumulador:u,updateAcumulador:x,deleteAcumulador:h,error:g}=function(){let[e,r]=(0,o.useState)([]),[a,t]=(0,o.useState)(!0),[n,s]=(0,o.useState)(null);return(0,o.useEffect)(()=>{try{let e=(0,A.P)((0,A.rJ)(_,"acumuladores"),(0,A.My)("dia","asc")),a=(0,A.aQ)(e,e=>{let a=e.docs.map(e=>{var r,a;return{id:e.id,...e.data(),createdAt:(null==(r=e.data().createdAt)?void 0:r.toMillis())||Date.now(),updatedAt:(null==(a=e.data().updatedAt)?void 0:a.toMillis())||Date.now()}});r(a),t(!1),s(null)},e=>{console.error("Erro ao carregar acumuladores:",e),s("Erro ao carregar dados. Verifique as regras do Firebase."),t(!1)});return()=>a()}catch(e){console.error("Erro ao configurar listener:",e),s("Erro de configura\xe7\xe3o do Firebase."),t(!1)}},[]),{acumuladores:e,loading:a,error:n,addAcumulador:async e=>{try{s(null),await (0,A.gS)((0,A.rJ)(_,"acumuladores"),{...e,createdAt:A.Dc.now(),updatedAt:A.Dc.now()})}catch(e){throw console.error("Erro ao adicionar acumulador:",e),s("Erro ao salvar acumulador. Verifique as regras do Firebase."),e}},updateAcumulador:async(e,r)=>{try{s(null),await (0,A.mZ)((0,A.H9)(_,"acumuladores",e),{...r,updatedAt:A.Dc.now()})}catch(e){throw console.error("Erro ao atualizar acumulador:",e),s("Erro ao atualizar acumulador. Verifique as regras do Firebase."),e}},deleteAcumulador:async e=>{try{s(null),await (0,A.kd)((0,A.H9)(_,"acumuladores",e))}catch(e){throw console.error("Erro ao deletar acumulador:",e),s("Erro ao deletar acumulador. Verifique as regras do Firebase."),e}}}}(),{eventos:b,addEvento:f,updateEvento:N,deleteEvento:w}=function(){let[e,r]=(0,o.useState)([]),[a,t]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let e=(0,A.P)((0,A.rJ)(_,"eventos"),(0,A.My)("dia","asc")),a=(0,A.aQ)(e,e=>{r(e.docs.map(e=>{var r,a;return{id:e.id,...e.data(),createdAt:(null==(r=e.data().createdAt)?void 0:r.toMillis())||Date.now(),updatedAt:(null==(a=e.data().updatedAt)?void 0:a.toMillis())||Date.now()}})),t(!1)});return()=>a()},[]),{eventos:e,loading:a,addEvento:async e=>{try{await (0,A.gS)((0,A.rJ)(_,"eventos"),{...e,createdAt:A.Dc.now(),updatedAt:A.Dc.now()})}catch(e){throw console.error("Erro ao adicionar evento:",e),e}},updateEvento:async(e,r)=>{try{await (0,A.mZ)((0,A.H9)(_,"eventos",e),{...r,updatedAt:A.Dc.now()})}catch(e){throw console.error("Erro ao atualizar evento:",e),e}},deleteEvento:async e=>{try{await (0,A.kd)((0,A.H9)(_,"eventos",e))}catch(e){throw console.error("Erro ao deletar evento:",e),e}}}}(),{fechamentos:D}=function(){let[e,r]=(0,o.useState)([]),[a,t]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let e=(0,A.P)((0,A.rJ)(_,"fechamentos"),(0,A.My)("ano","desc"),(0,A.My)("mes","desc")),a=(0,A.aQ)(e,e=>{r(e.docs.map(e=>{var r,a;return{id:e.id,...e.data(),createdAt:(null==(r=e.data().createdAt)?void 0:r.toMillis())||Date.now(),updatedAt:(null==(a=e.data().updatedAt)?void 0:a.toMillis())||Date.now()}})),t(!1)});return()=>a()},[]),{fechamentos:e,loading:a,addFechamento:async e=>{try{await (0,A.gS)((0,A.rJ)(_,"fechamentos"),{...e,createdAt:A.Dc.now(),updatedAt:A.Dc.now()})}catch(e){throw console.error("Erro ao adicionar fechamento:",e),e}},updateFechamento:async(e,r)=>{try{await (0,A.mZ)((0,A.H9)(_,"fechamentos",e),{...r,updatedAt:A.Dc.now()})}catch(e){throw console.error("Erro ao atualizar fechamento:",e),e}},deleteFechamento:async e=>{try{await (0,A.kd)((0,A.H9)(_,"fechamentos",e))}catch(e){throw console.error("Erro ao deletar fechamento:",e),e}}}}(),{documentos:S,addDocumento:M,updateDocumento:L,deleteDocumento:P}=(0,U.I)(),[T,R]=(0,o.useState)(),[O,F]=(0,o.useState)("acumuladores"),[I,B]=(0,o.useState)(!1),[q,V]=(0,o.useState)(!1),[H,G]=(0,o.useState)(null),[W,J]=(0,o.useState)([]),[Z,Y]=(0,o.useState)({titulo:"",conteudo:""}),[Q,X]=(0,o.useState)([]),[K,$]=(0,o.useState)("");if(r)return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 dark:from-slate-900 dark:to-blue-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"Carregando..."})]})});if(!e)return d.push("/login"),null;let ee=()=>{if("documentos"===O)V(!0);else if("anotacoes"===O){if(Z.titulo.trim()){let e={id:Date.now().toString(),titulo:Z.titulo,conteudo:Z.conteudo,concluida:!1,createdAt:Date.now()};J(r=>[e,...r]),Y({titulo:"",conteudo:""})}}else G(null),B(!0)},er=()=>{if(K.trim()){let e={id:Date.now().toString(),texto:K.trim(),concluida:!1,createdAt:Date.now()};X(r=>[...r,e]),$("")}},ea=async(e,r)=>{console.log("Upload conclu\xeddo:",{url:e,fileName:r}),V(!1),window.location.reload()},et=e=>{G(e),B(!0)},eo=async e=>{try{H?"acumuladores"===O?await x(H.id,e):"eventos"===O?await N(H.id,e):"documentos"===O&&await L(H.id,e):"acumuladores"===O?await u(e):"eventos"===O?await f(e):"documentos"===O&&await M(e),B(!1),G(null)}catch(e){console.error("Erro ao salvar:",e)}},en=async e=>{if(confirm("Tem certeza que deseja excluir este item?"))try{"acumuladores"===O?await h(e):"eventos"===O?await w(e):"documentos"===O&&await P(e)}catch(e){console.error("Erro ao deletar:",e)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-50 via-zinc-100 to-zinc-200 dark:from-zinc-900 dark:via-zinc-800 dark:to-zinc-700 transition-colors duration-300",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsx)("button",{onClick:i,className:"p-2 rounded-lg bg-zinc-200 dark:bg-zinc-700 hover:bg-zinc-300 dark:hover:bg-zinc-600 transition-colors",title:a?"Modo Claro":"Modo Escuro",children:a?(0,t.jsx)("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):(0,t.jsx)("svg",{className:"w-5 h-5 text-slate-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})})]}),(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-purple-600 rounded-full mb-4 shadow-lg",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Planejamento e Organiza\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-300 text-lg",children:"Sistema de gest\xe3o de documentos e planejamento"}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("a",{href:"/upload",className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-lg",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Upload Simples de Documentos"]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-2",children:"Envie documentos diretamente para a nuvem sem login"})]}),g&&(0,t.jsx)("div",{className:"mt-4 bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:"Erro de Conex\xe3o com Firebase"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:g||"Erro de conex\xe3o"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:(0,t.jsx)("a",{href:"/SOLUCAO_FIREBASE.md",className:"underline hover:no-underline",target:"_blank",children:"Clique aqui para ver a solu\xe7\xe3o"})})]})]})})]}),Q.length>0&&(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-xl",children:"✅"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:"Checklist Din\xe2mico"}),(0,t.jsxs)("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:[Q.filter(e=>!e.concluida).length," pendente",1!==Q.filter(e=>!e.concluida).length?"s":""," • ",Q.filter(e=>e.concluida).length," conclu\xedda",1!==Q.filter(e=>e.concluida).length?"s":""]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Q.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border transition-all duration-200 ".concat(e.concluida?"border-green-200 dark:border-green-700 bg-green-50/50 dark:bg-green-900/20":"border-zinc-200 dark:border-zinc-600 bg-white dark:bg-zinc-800"),children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center ".concat(e.concluida?"bg-green-500 border-green-500 text-white":"border-zinc-300 dark:border-zinc-600"),children:e.concluida&&(0,t.jsx)("span",{className:"text-xs",children:"✓"})}),(0,t.jsx)("span",{className:"flex-1 text-sm ".concat(e.concluida?"text-green-800 dark:text-green-200 line-through":"text-zinc-900 dark:text-zinc-100"),children:e.texto})]},e.id))})]})}),(()=>{let{anotacoes:e,checklist:r}={anotacoes:W.filter(e=>e.concluida),checklist:Q.filter(e=>e.concluida)},a=e.length+r.length;return 0===a?null:(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-700 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-xl",children:"\uD83C\uDF89"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:"Tarefas Conclu\xeddas Hoje"}),(0,t.jsxs)("p",{className:"text-green-700 dark:text-green-300 text-sm",children:[a," item",1!==a?"s":""," finalizado",1!==a?"s":""]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"font-semibold text-green-800 dark:text-green-200 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"\uD83D\uDCDD"}),"Anota\xe7\xf5es (",e.length,")"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[e.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-green-100/50 dark:bg-green-800/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"✅"}),(0,t.jsx)("span",{className:"text-sm text-green-800 dark:text-green-200 line-through",children:e.titulo})]},e.id)),e.length>3&&(0,t.jsxs)("p",{className:"text-xs text-green-600 dark:text-green-400",children:["+",e.length-3," mais..."]})]})]}),r.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"font-semibold text-green-800 dark:text-green-200 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"✅"}),"Checklist (",r.length,")"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[r.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-green-100/50 dark:bg-green-800/30 rounded-lg",children:[(0,t.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"✅"}),(0,t.jsx)("span",{className:"text-sm text-green-800 dark:text-green-200 line-through",children:e.texto})]},e.id)),r.length>3&&(0,t.jsxs)("p",{className:"text-xs text-green-600 dark:text-green-400",children:["+",r.length-3," mais..."]})]})]})]})]})})})(),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(j,{acumuladores:c,eventos:b,fechamentos:D,onDateClick:e=>{R(e)},selectedDate:T})}),(0,t.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:(0,t.jsx)("div",{className:"xl:col-span-3",children:(0,t.jsxs)("div",{className:"bg-white/80 dark:bg-zinc-800/80 backdrop-blur-sm rounded-xl shadow-xl border border-zinc-200/50 dark:border-zinc-700/50 overflow-hidden",children:[(0,t.jsx)("div",{className:"border-b border-zinc-200/50 dark:border-zinc-700/50 bg-zinc-50/80 dark:bg-zinc-900/80 backdrop-blur-sm",children:(0,t.jsx)("nav",{className:"flex space-x-8 px-6",children:[{key:"acumuladores",label:"Acumuladores",icon:"\uD83D\uDCCB"},{key:"eventos",label:"Eventos",icon:"\uD83C\uDFAA"},{key:"documentos",label:"Documentos",icon:"\uD83D\uDCC1"},{key:"anotacoes",label:"Anota\xe7\xf5es",icon:"\uD83D\uDCDD"}].map(e=>(0,t.jsxs)("button",{onClick:()=>F(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat(O===e.key?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300 hover:border-zinc-300 dark:hover:border-zinc-600"),children:[(0,t.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.key))})}),(0,t.jsx)("div",{className:"p-6 bg-white/60 dark:bg-zinc-800/60 backdrop-blur-sm",children:"anotacoes"===O?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"✨"}),"Nova Anota\xe7\xe3o"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"text",placeholder:"\uD83D\uDCDD T\xedtulo da anota\xe7\xe3o...",value:Z.titulo,onChange:e=>Y(r=>({...r,titulo:e.target.value})),className:"w-full px-4 py-3 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-lg text-zinc-900 dark:text-zinc-100 placeholder-zinc-500 dark:placeholder-zinc-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"})}),(0,t.jsx)("div",{children:(0,t.jsx)("textarea",{placeholder:"\uD83D\uDCC4 Conte\xfado da anota\xe7\xe3o...",value:Z.conteudo,onChange:e=>Y(r=>({...r,conteudo:e.target.value})),rows:3,className:"w-full px-4 py-3 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-lg text-zinc-900 dark:text-zinc-100 placeholder-zinc-500 dark:placeholder-zinc-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors resize-none"})}),(0,t.jsxs)("button",{onClick:ee,disabled:!Z.titulo.trim(),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-zinc-400 disabled:cursor-not-allowed transition-colors shadow-lg flex items-center gap-2",children:[(0,t.jsx)("span",{children:"\uD83D\uDCBE"}),"Salvar Anota\xe7\xe3o"]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"✅"}),"Gerenciar Checklist"]}),(0,t.jsx)("div",{className:"space-y-3 mb-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"➕ Nova tarefa...",value:K,onChange:e=>$(e.target.value),onKeyPress:e=>"Enter"===e.key&&er(),className:"flex-1 px-3 py-2 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-lg text-zinc-900 dark:text-zinc-100 placeholder-zinc-500 dark:placeholder-zinc-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm"}),(0,t.jsx)("button",{onClick:er,disabled:!K.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-zinc-400 disabled:cursor-not-allowed transition-colors flex items-center gap-1",children:(0,t.jsx)("span",{children:"➕"})})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"\uD83D\uDCDD"}),"Tarefas (",Q.length,")"]}),0===Q.length?(0,t.jsxs)("div",{className:"text-center py-6 text-zinc-500 dark:text-zinc-400",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:"\uD83D\uDCCB"}),(0,t.jsx)("p",{className:"text-sm",children:"Nenhuma tarefa ainda"}),(0,t.jsx)("p",{className:"text-xs",children:"Adicione sua primeira tarefa acima"})]}):(0,t.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Q.map(e=>(0,t.jsxs)("div",{className:"group flex items-center gap-3 p-3 rounded-lg border transition-all duration-200 ".concat(e.concluida?"border-green-200 dark:border-green-700 bg-green-50/50 dark:bg-green-900/20":"border-zinc-200 dark:border-zinc-600 bg-white dark:bg-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-700"),children:[(0,t.jsx)("button",{onClick:()=>{var r;return r=e.id,void X(e=>e.map(e=>e.id===r?{...e,concluida:!e.concluida}:e))},className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ".concat(e.concluida?"bg-green-500 border-green-500 text-white":"border-zinc-300 dark:border-zinc-600 hover:border-blue-500"),children:e.concluida&&(0,t.jsx)("span",{className:"text-xs",children:"✓"})}),(0,t.jsx)("span",{className:"flex-1 text-sm ".concat(e.concluida?"text-green-800 dark:text-green-200 line-through":"text-zinc-900 dark:text-zinc-100"),children:e.texto}),(0,t.jsx)("button",{onClick:()=>{var r;return r=e.id,void X(e=>e.filter(e=>e.id!==r))},className:"opacity-0 group-hover:opacity-100 p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-all",title:"Excluir tarefa",children:"\uD83D\uDDD1️"})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCB"}),"Minhas Anota\xe7\xf5es (",W.length,")"]}),0===W.length?(0,t.jsxs)("div",{className:"text-center py-8 text-zinc-500 dark:text-zinc-400",children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCDD"}),(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Nenhuma anota\xe7\xe3o ainda"}),(0,t.jsx)("p",{className:"text-xs",children:"Crie sua primeira anota\xe7\xe3o acima"})]}):(0,t.jsx)("div",{className:"space-y-3",children:W.map(e=>(0,t.jsx)("div",{className:"group border rounded-xl p-4 hover:shadow-lg transition-all duration-200 ".concat(e.concluida?"border-green-200 dark:border-green-700 bg-green-50/50 dark:bg-green-900/20":"border-zinc-200 dark:border-zinc-600 bg-white dark:bg-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-700"),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("button",{onClick:()=>{var r;return r=e.id,void J(e=>e.map(e=>e.id===r?{...e,concluida:!e.concluida}:e))},className:"mt-1 w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ".concat(e.concluida?"bg-green-500 border-green-500 text-white":"border-zinc-300 dark:border-zinc-600 hover:border-purple-500"),children:e.concluida&&(0,t.jsx)("span",{className:"text-xs",children:"✓"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-semibold mb-1 text-sm ".concat(e.concluida?"text-green-800 dark:text-green-200 line-through":"text-zinc-900 dark:text-zinc-100"),children:e.titulo}),e.conteudo&&(0,t.jsx)("p",{className:"text-xs mb-2 ".concat(e.concluida?"text-green-600 dark:text-green-300":"text-zinc-600 dark:text-zinc-400"),children:e.conteudo}),(0,t.jsx)("div",{className:"flex items-center gap-2 text-xs text-zinc-500 dark:text-zinc-400",children:(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{children:"\uD83D\uDCC5"}),(0,p.GP)(new Date(e.createdAt),"dd/MM HH:mm",{locale:v.F})]})})]}),(0,t.jsx)("button",{onClick:()=>{var r;return r=e.id,void J(e=>e.filter(e=>e.id!==r))},className:"opacity-0 group-hover:opacity-100 p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-all",title:"Excluir anota\xe7\xe3o",children:"\uD83D\uDDD1️"})]})},e.id))})]})]}):"documentos"===O?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"\uD83D\uDCC1 Documentos"}),(0,t.jsxs)("button",{onClick:ee,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-lg",children:[(0,t.jsx)("span",{className:"mr-2",children:"\uD83D\uDCC4"}),"Novo Documento"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[S.map(e=>{var r;return(0,t.jsx)("div",{className:"border border-zinc-200 dark:border-zinc-600 rounded-lg p-4 hover:shadow-md transition-all duration-200 bg-white dark:bg-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-600",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"PDF"===e.tipo?"\uD83D\uDCC4":"\uD83D\uDCCA"}),(0,t.jsx)("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:e.nome}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("PDF"===e.tipo?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.tipo})]}),(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-2",children:e.descricao||"Sem descri\xe7\xe3o"}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:e.categoria.replace("_"," ")}),null==(r=e.tags)?void 0:r.map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-zinc-100 text-zinc-800 rounded-full text-xs",children:e},e))]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)("a",{href:e.url,download:!0,className:"flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download"]}),(0,t.jsxs)("button",{onClick:r=>{r.stopPropagation(),et(e)},className:"flex items-center gap-1 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 transition-colors",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Editar"]}),(0,t.jsxs)("button",{onClick:r=>{r.stopPropagation(),en(e.id)},className:"flex items-center gap-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 transition-colors",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Excluir"]})]})]})},e.id)}),0===S.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-zinc-500 dark:text-zinc-400",children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCC1"}),"Nenhum documento encontrado"]})]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:["acumuladores"===O?"\uD83D\uDCCB Acumuladores":"\uD83C\uDFAA Eventos",(0,t.jsx)("span",{className:"text-sm font-normal text-zinc-500 dark:text-zinc-400 ml-2",children:"- Todos os dias do m\xeas"})]}),(0,t.jsxs)("button",{onClick:ee,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-lg flex items-center gap-2",children:[(0,t.jsx)("span",{children:"✨"}),"Novo ","acumuladores"===O?"Acumulador":"Evento"]})]}),(0,t.jsx)("div",{className:"space-y-6",children:(()=>{let{groupedByDay:e,sortedDays:r}=(()=>{if("documentos"===O)return{documentos:S};let e={};("acumuladores"===O?c:b).forEach(r=>{let a=(0,p.GP)((e=>{if(e instanceof Date)return e;let r=new Date(e);return new Date(r.getTime()+6e4*r.getTimezoneOffset())})(r.dia),"yyyy-MM-dd");e[a]||(e[a]=[]),e[a].push(r)});let r=Object.keys(e).sort((e,r)=>{let a=new Date(e);return new Date(r).getTime()-a.getTime()});return{groupedByDay:e,sortedDays:r}})();return(null==r?void 0:r.length)===0?(0,t.jsxs)("div",{className:"text-center py-12 text-zinc-500 dark:text-zinc-400",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCC5"}),(0,t.jsxs)("h4",{className:"text-lg font-medium mb-2",children:["Nenhum ","acumuladores"===O?"acumulador":"evento"," agendado"]}),(0,t.jsxs)("p",{className:"text-sm",children:["Adicione novos ","acumuladores"===O?"acumuladores":"eventos"," para come\xe7ar"]})]}):null==r?void 0:r.map(r=>{let a=e[r],o=new Date(r),n=(0,m.r)(o,new Date),s=o<new Date;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-lg ".concat(n?"bg-blue-100 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700":s?"bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700":"bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-700"),children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(n?"bg-blue-500":s?"bg-zinc-400":"bg-green-500")}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold ".concat(n?"text-blue-900 dark:text-blue-100":s?"text-zinc-700 dark:text-zinc-300":"text-green-900 dark:text-green-100"),children:(0,p.GP)(o,"EEEE, dd/MM/yyyy",{locale:v.F})}),(0,t.jsxs)("p",{className:"text-sm ".concat(n?"text-blue-700 dark:text-blue-300":s?"text-zinc-500 dark:text-zinc-400":"text-green-700 dark:text-green-300"),children:[a.length," ","acumuladores"===O?"acumulador(es)":"evento(s)",n&&" • Hoje",s&&" • Passado"]})]}),(0,t.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(n?"bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-200":s?"bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300":"bg-green-200 dark:bg-green-800 text-green-800 dark:text-green-200"),children:n?"\uD83D\uDCC5 Hoje":s?"⏰ Passado":"\uD83D\uDD2E Futuro"})]}),(0,t.jsx)("div",{className:"space-y-2 ml-6",children:a.map(e=>(0,t.jsx)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-all duration-200 ".concat(n?"border-blue-200 dark:border-blue-700 bg-blue-50/50 dark:bg-blue-900/20 hover:bg-blue-50 dark:hover:bg-blue-900/30":s?"border-zinc-200 dark:border-zinc-600 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-700":"border-green-200 dark:border-green-700 bg-green-50/50 dark:bg-green-900/20 hover:bg-green-50 dark:hover:bg-green-900/30"),children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("div",{className:"flex-1",children:"acumuladores"===O?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"text-lg",children:"\uD83D\uDE9B"}),(0,t.jsxs)("h5",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:[k.iU[e.sub]," - ",e.hora]})]}),(0,t.jsxs)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-1",children:["\uD83D\uDCCD ",e.endereco]}),(0,t.jsxs)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-2",children:["\uD83C\uDD94 SEI: ",e.sei," | \uD83D\uDE97 Placa: ",e.placaVeiculo]}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"finalizado":return"bg-green-100 text-green-800";case"aguardando_descarga":return"bg-yellow-100 text-yellow-800";case"cancelado":return"bg-red-100 text-red-800";case"nao_comecou":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}})(e.status)),children:(()=>{let r=e.status;return"".concat({finalizado:"✅",aguardando_descarga:"⏳",cancelado:"❌",nao_comecou:"⏸️"}[r]||"\uD83D\uDCCB"," ").concat(r.replace("_"," "))})()})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"text-lg",children:"\uD83C\uDFAA"}),(0,t.jsxs)("h5",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:[e.nome," - ",e.hora]})]}),(0,t.jsxs)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-1",children:["\uD83D\uDCCD ",k.iU[e.sub]," - ",e.endereco]}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"evento":default:return"bg-blue-100 text-blue-800";case"reuniao":return"bg-purple-100 text-purple-800";case"outros":return"bg-gray-100 text-gray-800"}})(e.tipo)),children:(()=>{let r=e.tipo;return"".concat({evento:"\uD83C\uDF89",reuniao:"\uD83E\uDD1D",outros:"\uD83D\uDCDD"}[r]||"\uD83D\uDCCB"," ").concat(r)})()})]})}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>et(e),className:"p-2 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 hover:bg-purple-100 dark:hover:bg-purple-900/30 rounded-lg transition-colors",title:"Editar",children:"✏️"}),(0,t.jsx)("button",{onClick:()=>en(e.id),className:"p-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Excluir",children:"\uD83D\uDDD1️"})]})]})},e.id))})]},r)})})()})]})})]})})}),I&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white/90 dark:bg-zinc-800/90 backdrop-blur-sm rounded-xl w-full max-h-[95vh] overflow-y-auto shadow-2xl border border-zinc-200/50 dark:border-zinc-700/50 max-w-6xl",children:["acumuladores"===O&&(0,t.jsx)(y,{acumulador:H,onSave:eo,onCancel:()=>{B(!1),G(null)}}),"eventos"===O&&(0,t.jsx)(z,{evento:H,onSave:eo,onCancel:()=>{B(!1),G(null)}}),"documentos"===O&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(C,{documento:H,onSubmit:eo,onCancel:()=>{B(!1),G(null)}})})]})}),q&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-800 rounded-xl w-full max-w-2xl max-h-[95vh] overflow-y-auto shadow-2xl border border-zinc-200/50 dark:border-zinc-700/50",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Upload Simples de Documento"}),(0,t.jsx)("button",{onClick:()=>V(!1),className:"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)(E.A,{onUploadComplete:ea})]})})})]})})}}},e=>{e.O(0,[3038,5579,4020,9135,3965,4744,1061,945,4385,3657,8441,1255,7358],()=>e(e.s=1623)),_N_E=e.O()}]);